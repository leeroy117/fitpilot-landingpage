---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import { useTranslations } from '../i18n/utils';
import { MotionButton } from '../components/MotionButton';

const lang = Astro.currentLocale || 'en';
const t = useTranslations(lang as any);
---

<Layout title={t('help.meta.title')}>
  <Navbar />
  
  <main class="relative overflow-hidden pt-32 pb-24 bg-slate-50">
    <!-- Hero Search Section -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-20 text-center relative z-10">
        <h1 class="text-4xl md:text-5xl font-display font-bold text-gray-900 mb-6" data-aos="fade-up">
            {t('help.hero.title')}
        </h1>
        <p class="text-xl text-gray-500 max-w-2xl mx-auto mb-10" data-aos="fade-up" data-aos-delay="100">
            {t('help.hero.subtitle')}
        </p>
        
        <div class="max-w-2xl mx-auto relative group" data-aos="zoom-in" data-aos-delay="200">
            <div class="absolute inset-0 bg-primary/20 rounded-2xl blur-xl group-hover:blur-2xl transition-all duration-300 opacity-50"></div>
            <div class="relative bg-white rounded-2xl shadow-xl flex items-center p-2 border border-gray-100">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-gray-400 ml-4">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                </svg>
                <input 
                    type="text" 
                    placeholder={t('help.search.placeholder')} 
                    class="w-full px-4 py-3 text-lg text-gray-900 placeholder-gray-400 bg-transparent border-none focus:ring-0 outline-none"
                />
                <button class="bg-primary hover:bg-primary/90 text-white px-6 py-2.5 rounded-xl font-medium transition-colors">
                    Search
                </button>
            </div>
        </div>
    </section>

    <!-- Categories Grid -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-24">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {[
                { title: t('help.cat.getting_started'), icon: 'ðŸš€', color: 'bg-orange-50 text-orange-600' },
                { title: t('help.cat.account'), icon: 'ðŸ’³', color: 'bg-blue-50 text-blue-600' },
                { title: t('help.cat.trainers'), icon: 'ðŸ’ª', color: 'bg-green-50 text-green-600' },
                { title: t('help.cat.nutritionists'), icon: 'ðŸ¥—', color: 'bg-purple-50 text-purple-600' },
                { title: t('help.cat.client_app'), icon: 'ðŸ“±', color: 'bg-pink-50 text-pink-600' },
                { title: t('help.cat.troubleshooting'), icon: 'ðŸ”§', color: 'bg-gray-100 text-gray-600' },
            ].map((cat, index) => (
                <a href="#" class="group bg-white p-8 rounded-3xl border border-gray-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300" data-aos="fade-up" data-aos-delay={index * 100}>
                    <div class={`w-14 h-14 rounded-2xl flex items-center justify-center text-2xl mb-6 ${cat.color} group-hover:scale-110 transition-transform`}>
                        {cat.icon}
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors">{cat.title}</h3>
                    <p class="text-gray-500 text-sm">View 12 articles</p>
                </a>
            ))}
        </div>
    </section>

    <!-- Popular Articles -->
    <section class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 mb-24">
        <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center" data-aos="fade-up">{t('help.popular.title')}</h2>
        <div class="bg-white rounded-3xl shadow-lg border border-gray-100 divide-y divide-gray-100 overflow-hidden" data-aos="fade-up" data-aos-delay="100">
            {[ t('help.popular.art1'), t('help.popular.art2'), t('help.popular.art3') ].map((article) => (
                <a href="#" class="flex items-center justify-between p-6 hover:bg-gray-50 transition-colors group">
                    <div class="flex items-center gap-4">
                        <div class="w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center text-gray-400 group-hover:bg-primary/10 group-hover:text-primary transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" /></svg>
                        </div>
                        <span class="font-medium text-gray-700 group-hover:text-primary transition-colors">{article}</span>
                    </div>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5 text-gray-400 group-hover:text-primary group-hover:translate-x-1 transition-all"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" /></svg>
                </a>
            ))}
        </div>
    </section>

    <!-- Support CTA -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-primary/5 rounded-3xl p-12 text-center" data-aos="zoom-in">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">{t('help.cta.title')}</h2>
            <p class="text-gray-500 mb-8 max-w-xl mx-auto">{t('help.cta.subtitle')}</p>
            <div class="flex justify-center">
                <a href={lang === 'es' ? '/es/contact' : '/contact'}>
                    <MotionButton client:load className="bg-primary text-white px-8 py-3 rounded-xl font-bold shadow-lg hover:bg-primary/90 transition-all hover:cursor-pointer">
                        {t('help.cta.btn')}
                    </MotionButton>
                </a>
            </div>
        </div>
    </section>

  </main>
  
  <Footer />
</Layout>
